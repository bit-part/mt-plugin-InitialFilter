InitialFilter - Movable Type プラグイン
=================

[English](README.md)

## 概要

リスティングフレームワークを利用した一覧ページに初期フィルタを設定するプラグインです。

## 動作環境

* Movable Type 6

## インストール

1. [releases](https://github.com/bit-part/mt-plugin-InitialFilter/releases)よりアーカイブファイルをダウンロードします。
1. ダウンロードしたファイルを展開します。
1. 展開したファイルをMovable Typeのプラグインディレクトリにアップロードします。

インストールしたディレクトリ構成は下記のようになります。

    $MT_HOME/
        plugins/
            InitialFilter/

## 使い方

### プラグインの設定

ウェブサイト/ブログの InitialFilter プラグインの設定欄に YAML 形式で設定を保存します。

設定内容は下記の通りです。

```
<一覧ページのURLの "_type" パラメータの値>:
    id: <フィルタのid>
    force: <一覧ページを表示した時に常にここで指定したフィルタを適用させたい場合は1>
```

記事一覧に自分で作ったフィルタを、ウェブページ一覧に下書きのウェブページのフィルタを適用するサンプルは下記の通りです。

```
entry:
    id: 1
    force: 1
page:
    id: draft
    force: 1
```

### `id` の確認方法

上記の YAML で `id` に指定する値は下記の手順で確認できます。

1. フィルタを新規作成し名前をつけて保存（既存のフィルタを利用する場合は不要）
1. 保存したフィルタを記事一覧に適用
1. 記事一覧ページをリロード
1. 記事一覧ページのソースコードを表示
1. ソースコード内を `var initial_filter =` で検索
1. `var initial_filter =` の値の中の `id` の値を確認

### 備考

ここで設定したフィルタはすべてのユーザーに共通して適用されます。

ユーザーが作成したフィルタを適用した場合、作成したユーザー以外のユーザーには、適用されたフィルタ名のところに「作成:<ユーザー名> - 」という接頭辞が付きます。

---

MT::Lover::[bitpart](http://bit-part.net/)
